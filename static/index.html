<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Free online OCR service - Convert images to text with AI"
    />
    <title>Image to Text - Free OCR Service</title>
    <link rel="stylesheet" href="/static/styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="logo">
          <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="40" height="40" rx="10" fill="url(#gradient)" />
            <path
              d="M12 14H28M12 20H28M12 26H22"
              stroke="white"
              stroke-width="2.5"
              stroke-linecap="round"
            />
            <defs>
              <linearGradient id="gradient" x1="0" y1="0" x2="40" y2="40">
                <stop offset="0%" style="stop-color: #667eea" />
                <stop offset="100%" style="stop-color: #764ba2" />
              </linearGradient>
            </defs>
          </svg>
          <h1>Image to Text</h1>
        </div>
        <div class="header-status" id="status">
          <span class="status-dot"></span>
          <span class="status-text">Ready</span>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <div class="upload-section">
          <div class="upload-area" id="uploadArea">
            <input type="file" id="fileInput" accept=".png,.jpg,.jpeg" hidden />
            <div class="upload-icon">
              <svg
                width="64"
                height="64"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M17 8L12 3L7 8"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M12 3V15"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </div>
            <h2>Upload Image</h2>
            <p>Drag and drop or click to select</p>
            <small>PNG, JPG, JPEG (Max 5MB)</small>
          </div>

          <div class="preview-area hidden" id="previewArea">
            <img id="imagePreview" alt="Preview" />
            <div class="preview-actions">
              <label class="toggle">
                <input type="checkbox" id="preprocessToggle" />
                <span>预处理</span>
              </label>
              <select id="langSelect" class="lang-select">
                <option value="ch_sim,en">中英混合 (Default)</option>
                <option value="en">English Only</option>
              </select>
              <button class="btn btn-secondary" id="changeBtn">
                Change Image
              </button>
              <button class="btn btn-primary" id="convertBtn">
                <span class="btn-text" id="btnText">Convert to Text</span>
                <div class="spinner hidden" id="spinner"></div>
              </button>
            </div>
          </div>
        </div>

        <!-- Result Section -->
        <div class="result-section hidden" id="resultSection">
          <div class="result-header">
            <h3>Extracted Text</h3>
            <div class="result-actions">
              <span class="char-count" id="charCount">0 chars</span>
              <button class="icon-btn" id="copyBtn" title="Copy to clipboard">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8 4V16C8 17.1046 8.89543 18 10 18H18C19.1046 18 20 17.1046 20 16V7.24264C20 6.7122 19.7893 6.20357 19.4142 5.82843L16.1716 2.58579C15.7964 2.21071 15.2878 2 14.7574 2H10C8.89543 2 8 2.89543 8 4Z"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M16 2V6H20"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M4 8H6"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M4 12H6"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M4 16H6"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M4 20C4 21.1046 4.89543 22 6 22H14"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
              <button class="icon-btn" id="downloadBtn" title="Download as .txt">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M7 10L12 15L17 10"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M12 15V3"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </div>
          </div>
          <textarea
            id="resultText"
            class="result-text"
            readonly
            placeholder="Extracted text will appear here..."
          ></textarea>
        </div>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <p>Powered by AI OCR Technology | Free & Secure</p>
      </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast hidden" id="toast">
      <span id="toastMessage"></span>
    </div>

    <script src="/static/script.js"></script>
  </body>
</html>
